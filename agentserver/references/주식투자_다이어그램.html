<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>주식투자 에이전트 다이어그램</title>
  <style>
    svg {
      font-family: Arial, sans-serif;
    }
    /* 노드 박스 스타일 */
    .box {
      fill: #fff;
      stroke: #4CAF50;
      stroke-width: 2;
      rx: 5;
      ry: 5;
    }
    /* 텍스트 스타일 */
    .text {
      font-size: 12px;
      text-anchor: middle;
      fill: #000;
    }
    /* 화살표 선 스타일 */
    .arrow {
      stroke: #888;
      stroke-width: 2;
      fill: none;
      marker-end: url(#arrowhead);
    }
    /* 점선 (수평 연결선) */
    .dashed {
      stroke-dasharray: 4,2;
    }
  </style>
</head>
<body>
  <svg width="900" height="1000">
    <!-- 화살표 머리 정의 -->
    <defs>
      <marker id="arrowhead" markerWidth="10" markerHeight="7" 
              refX="0" refY="3.5" orient="auto">
        <polygon points="0 0, 10 3.5, 0 7" fill="#888" />
      </marker>
    </defs>
    
    <!-- [외부 데이터 소스] -->
    <rect x="350" y="20" width="200" height="40" class="box" />
    <text x="450" y="45" class="text">[외부 데이터 소스]</text>
    
    <!-- 화살표: 외부 데이터 소스에서 아래로 -->
    <line x1="450" y1="60" x2="450" y2="80" class="arrow" />
    
    <!-- 세 개의 데이터 소스 박스 -->
    <!-- Market Data API & Order Book Feed -->
    <rect x="50" y="80" width="200" height="60" class="box" />
    <text x="150" y="115" class="text">Market Data API &amp; Order Book Feed</text>
    
    <!-- News / Social Media API -->
    <rect x="350" y="80" width="200" height="60" class="box" />
    <text x="450" y="115" class="text">News / Social Media API</text>
    
    <!-- Financial Data (재무제표, 증권리포트) -->
    <rect x="650" y="80" width="200" height="60" class="box" />
    <text x="750" y="100" class="text">Financial Data</text>
    <text x="750" y="115" class="text">(재무제표, 증권리포트)</text>
    
    <!-- 각 데이터 소스 박스의 하단에서 수직 연결선 -->
    <line x1="150" y1="140" x2="150" y2="160" class="arrow" />
    <line x1="450" y1="140" x2="450" y2="160" class="arrow" />
    <line x1="750" y1="140" x2="750" y2="160" class="arrow" />
    
    <!-- 세 수직선의 중간을 연결하는 수평 점선 -->
    <line x1="150" y1="160" x2="750" y2="160" class="arrow dashed"/>
    
    <!-- 중앙에서 Data Ingestion Node로 내려가는 수직선 -->
    <line x1="450" y1="160" x2="450" y2="190" class="arrow" />
    
    <!-- Data Ingestion Node -->
    <rect x="300" y="190" width="300" height="60" class="box" />
    <text x="450" y="220" class="text">Data Ingestion Node</text>
    <text x="450" y="235" class="text">(데이터 전처리 및 분배 역할)</text>
    
    <!-- Data Ingestion Node에서 아래로 화살표 -->
    <line x1="450" y1="250" x2="450" y2="270" class="arrow" />
    
    <!-- 다섯 개의 분석 에이전트 박스 -->
    <!-- Fundamental Analysis Agent -->
    <rect x="20" y="270" width="150" height="60" class="box" />
    <text x="95" y="300" class="text">Fundamental Analysis Agent</text>
    
    <!-- Technical Analysis Agent -->
    <rect x="200" y="270" width="150" height="60" class="box" />
    <text x="275" y="300" class="text">Technical Analysis Agent</text>
    
    <!-- News & Sentiment Agent -->
    <rect x="380" y="270" width="150" height="60" class="box" />
    <text x="455" y="300" class="text">News &amp; Sentiment Agent</text>
    
    <!-- Order Book & Liquidity Analysis Agent -->
    <rect x="560" y="270" width="150" height="60" class="box" />
    <text x="635" y="295" class="text">Order Book &amp;</text>
    <text x="635" y="310" class="text">Liquidity Analysis Agent</text>
    
    <!-- Macroeconomic / Sector Analysis Agent -->
    <rect x="740" y="270" width="150" height="60" class="box" />
    <text x="815" y="300" class="text">Macroeconomic /</text>
    <text x="815" y="315" class="text">Sector Analysis Agent</text>
    
    <!-- 각 분석 에이전트 박스에서 하단 수직선 -->
    <line x1="95" y1="330" x2="95" y2="350" class="arrow" />
    <line x1="275" y1="330" x2="275" y2="350" class="arrow" />
    <line x1="455" y1="330" x2="455" y2="350" class="arrow" />
    <line x1="635" y1="330" x2="635" y2="350" class="arrow" />
    <line x1="815" y1="330" x2="815" y2="350" class="arrow" />
    
    <!-- 이 수직선들을 연결하는 수평 점선 -->
    <line x1="95" y1="350" x2="815" y2="350" class="arrow dashed"/>
    
    <!-- 중앙에서 Aggregation Node로 내려가는 수직선 -->
    <line x1="455" y1="350" x2="455" y2="380" class="arrow" />
    
    <!-- Aggregation & Decision Integration Node (중앙 허브) -->
    <rect x="305" y="380" width="300" height="60" class="box" />
    <text x="455" y="410" class="text">Aggregation &amp; Decision Integration Node</text>
    <text x="455" y="425" class="text">(각 에이전트 결과 종합, 투자 신호 생성)</text>
    
    <!-- Aggregation Node에서 아래로 화살표 -->
    <line x1="455" y1="440" x2="455" y2="470" class="arrow" />
    
    <!-- Risk Management & Portfolio Optimization Node -->
    <rect x="305" y="470" width="300" height="60" class="box" />
    <text x="455" y="500" class="text">Risk Management &amp; Portfolio Optimization Node</text>
    <text x="455" y="515" class="text">(리스크 평가 및 포트폴리오 최적화)</text>
    
    <!-- Risk Management Node에서 아래로 화살표 -->
    <line x1="455" y1="530" x2="455" y2="560" class="arrow" />
    
    <!-- Trade Execution Node -->
    <rect x="305" y="560" width="300" height="60" class="box" />
    <text x="455" y="590" class="text">Trade Execution Node</text>
    <text x="455" y="605" class="text">(브로커 API 호출, 매매 주문 실행)</text>
    
    <!-- Trade Execution Node에서 아래로 화살표 -->
    <line x1="455" y1="620" x2="455" y2="650" class="arrow" />
    
    <!-- Feedback & Learning Node -->
    <rect x="305" y="650" width="300" height="60" class="box" />
    <text x="455" y="680" class="text">Feedback &amp; Learning Node</text>
    <text x="455" y="695" class="text">(거래 결과, 시장 피드백 분석, 전략 개선)</text>
    
  </svg>
</body>
</html>
